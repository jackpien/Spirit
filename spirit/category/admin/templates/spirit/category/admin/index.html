{% extends "spirit/_base.html" %}

{% load i18n %}

{% block title %}{% trans "Category list" %}{% endblock %}

{% block content %}
  <div class="container-fluid">
    {% include "spirit/admin/_side_menu.html" with active="categories" %}

    <h1 class="headline">{% trans "Category list" %}</h1>

    <a class="btn btn-primary button" role="button" href="{% url "spirit:admin:category:create" %}">{% trans "Create Category" %}</a>

    <hr>

    {% for c in categories %}
    <div class="row">
      <div class="col-xs-10">
        <a {% if c.color %}style="color: {{ c.color }}"{% endif %} href="{{ c.get_absolute_url }}">{{ c.title }}</a>

        {% if c.is_removed %}
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        {% endif %}

        {% if c.is_closed %}
          <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
        {% endif %}
      </div>

      <div class="col-xs-2" style="text-align:right;">
        <a class="row-edit" href="{% url "spirit:admin:category:update"
           category_id=c.pk %}">
          <span class="glyphicon glyphicon-cog" aria-hidden="true"></span> {% trans "edit" %}
        </a>
      </div>
    </div>

    {% for subc in c.category_set.all %}
    <div class="row">
      <a {% if subc.color %}style="color: {{ subc.color }}"{% endif %}
         href="{{ subc.get_absolute_url }}">
        {{ subc.title }}
      </a>

      {% if subc.is_removed %}
        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
      {% endif %}

      {% if subc.is_closed %}
        <span class="glyphicon glyphicon-lock" aria-hidden="true"></span>
      {% endif %}

      <a class="row-edit"
         href="{% url "spirit:admin:category:update" category_id=subc.pk %}">
        <span class="glyphicon glyphicon-cog" aria-hidden="true"></span>
        {% trans "edit" %}
      </a>
    </div>
    {% endfor %}
    <hr>
  {% endfor %}
  </div>

{% endblock %}
